<tool id="dwgsim" name="Generate simulated reads" version="1.0.0">
  <description>from a fasta sequence using dwgsim</description>
  <command interpreter="python">dwgsim_wrapper.py \
	  -e $eRateFirstread \
	  -E $eRateSecondread \
	  -d $innerDist \
	  -s $stDev \
	  -N $noReadpairs \
	  -1 $loFirstread \
	  -2 $loSecondread \
	  -r $rateOfMut \
	  -R $rateOfIndels \
	  -X $probExtRead \
	  -y $probRandRead \
	  -n $maxAllowN \
	  -S $strandDirection \
	  $colorSpace \
	  $haploMode \
	  -f $input \
	  -3 $outputSingleReads \
	  -4 $outputPEFirst \
	  -5 $outputPESecond \
	  -6 $outputMutations 
  </command>
  <inputs>
	<param format="fasta" name="input" type="data" label="Select fasta file to generate reads from"/>
	<param name="eRateFirstread" size="4" type="text" value="0.020">
		<label>base/color error rate of the first read</label>
	</param>
	<param name="eRateSecondread" size="4" type="text" value="0.020">
		<label>base/color error rate of the second read</label>
	</param>
	<param name="innerDist" size="4" type="text" value="500">
		<label>inner distance between the two ends</label>
	</param>
	<param name="stDev" size="4" type="text" value="50">
		<label>Standard deviation</label>
	</param>	
	<param name="noReadpairs" size="12" type="text" value="1000000">
		<label>number of read pairs</label>
	</param>
	<param name="loFirstread" size="4" type="text" value="70">
		<label>length of the first read </label>
	</param>
	<param name="loSecondread" size="4" type="text" value="70">
		<label>length of the second read </label>
	</param>
	<param name="rateOfMut" size="4" type="text" value="0.0010">
		<label>rate of mutations</label>
	</param>
	<param name="rateOfIndels" size="4" type="text" value="0.10">
		<label>fraction of indels </label>
	</param>
	<param name="probExtRead" size="4" type="text" value="0.30">
		<label>probability an indel is extended</label>
	</param>
	<param name="probRandRead" size="4" type="text" value="0.10">
		<label>probability of a random DNA read</label>
	</param>
	<param name="maxAllowN" size="4" type="text" value="0">
		<label>maximum number of Ns allowed in a given read</label>
	</param>
	<param name="colorSpace" type="boolean" truevalue="-c" falsevalue="" checked="False" label="generate reads in color space (SOLiD reads)"/>
	<param name="strandDirection" type="select" label="Direction of strand (default: opposite strand for Illumina, same for SOLiD)">
		<option value="0" selected="True">Default</option>
		<option value="1">Same strand (mate pair)</option>
		<option value="2">Opposite strand (paired end)</option>
	</param>
	<param name="haploMode" type="boolean" truevalue="-H" falsevalue="" checked="False" label="Haplotype mode"/>
   </inputs>
 
  <outputs>
    <data format="fastqsanger" name="outputSingleReads"/>
    <data format="fastqsanger" name="outputPEFirst"/>
    <data format="fastqsanger" name="outputPESecond"/>
    <data format="text" name="outputMutations"/>
  </outputs>
 
  <help>
This tools simulate reads from a given fasta file.
For more information, please see https://sourceforge.net/apps/mediawiki/dnaa/index.php?title=Whole_Genome_Simulation
  </help>
 
</tool>
